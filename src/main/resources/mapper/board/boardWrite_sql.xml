<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="boardWrite">
    
    <insert id="insertBoard">
        <![CDATA[
		INSERT INTO tbl_board 
		            (
			            seq, 
			             NAME, 
			             email, 
			             homepage, 
			             title, 
			             content, 
			             password, 
			             count, 
			             regdate, 
			             pos, 
			             depth
		             ) 
		VALUES     (
						 (select case count(*) when 0 then 1 else max(seq) + 1 end from  tbl_board a),
			            #{name}, 
			            #{email}, 
			            #{homepage}, 
			            #{title}, 
			            #{content}, 
			            #{password}, 
			            0, 
			            sysdate(), 
			            0, 
			            0
		            ) 
        ]]>
    </insert>
 
</mapper>
